<% @page_title = '作成画面' %>
<h1>タスク管理システム：作成画面</h1>
<hr>
<%= form_for(@task) do |f| %>
<!-- TODO:ステップ20でラベルを選択し、複数登録可能とする -->
  <div id="task_new">
    <table>
      <!-- テーブルヘッダ -->
      <thead>
        <tr>
          <th class="name">タスク</th>
          <th class="details">詳細</th>
          <th class="deadline">期限</th>
          <th class="priority">優先度</th>
          <th class="status">ステータス</th>
        </tr>
      </thead>
      <!-- テーブルボディ -->
      <tbody>
        <tr>
          <td class="name"><%= f.text_field :name, placeholder: "入力してください" %></td>
          <td class="details"><%= f.text_field :details, placeholder: "入力してください" %></td>
          <td class="deadline"><%= f.date_field :deadline, value: Time.now.strftime("%Y-%m-%d") %></td>
          <td class="priority"><%= f.select :priority, Task.priorities.keys.map {|k| [I18n.t("enums.task.priority.#{k}"), k]} %></td>
          <td class="status"><%= f.select :status, Task.statuses.keys.map {|k| [I18n.t("enums.task.status.#{k}"), k]} %></td>
        </tr>
      </tbody>
    </table>
  </div>
  <!-- TODO:テスト用のユーザID。ステップ17でログイン画面作成後に動的に変更する -->
  <%= f.hidden_field :user_id, value: 1 %><br>
  <%= f.submit "登録する" %>
<% end %>
<hr>
<a href="/tasks">一覧画面へ</a><br>
