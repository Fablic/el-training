<%= javascript_pack_tag 'label' %>
<%= form_with model: @task, local: true do |f| %>
  <div class="form-group">
    <%= f.label :title %>
    <%= f.text_field :title, class: 'form-control' %>
  </div>
  <div class="form-row">
    <div class="form-group col-md-6">
      <%= f.label :priority %>
      <%= f.select :priority, Task.priorities_i18n.invert, {}, class: 'form-control' %>
    </div>
    <div class="form-group col-md-6">
      <%= f.label :status %>
      <%= f.select :status, Task.statuses_i18n.invert, {}, class: 'form-control' %>
    </div>
  </div>
  <div class="form-row">
    <div class="form-group col-md-6">
      <%= f.label :due %>
      <%= f.date_field :due, class: 'form-control' %>
    </div>
    <div class="form-group col-md-6">
      <%= f.label :label %>
      <%= f.select(:label_ids, current_user.labels.collect {|l| [ l.name, l.id] }, {}, class: 'form-control', :multiple => true) %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label :description %>
    <%= f.text_area :description, class: 'form-control' %>
  </div>
  <div>
    <%= link_to I18n.t('link.back'), tasks_path, class: 'btn btn-dark' %>
    <% if request.path_info == new_task_path %>
      <%= f.submit I18n.t('button.register'), class: 'btn btn-primary' %>
    <%else%>
      <%= f.submit I18n.t('button.update'), class: 'btn btn-primary' %>
    <% end%>
  <div>
<% end %>
