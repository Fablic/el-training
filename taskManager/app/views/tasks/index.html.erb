<h1><%= t('.title') %></h1>

<table class="table">
  <thead>
  <tr>
    <th><%= Task.human_attribute_name(:summary) %></th>
    <th>
      <%= Task.human_attribute_name(:priority) %>
      <%= link_to ({position: 'priority', order: 'asc'}) do %>
        <span class="glyphicon glyphicon-sort-by-attributes" aria-hidden="true" style="transform:rotate(180deg)"></span>
      <% end %>
      <%= link_to ({position: 'priority', order: 'desc'}) do %>
        <span class="glyphicon glyphicon-sort-by-attributes" aria-hidden="true"></span>
      <% end %>
    </th>
    <th>
      <%= Task.human_attribute_name(:status) %>
      <%= link_to ({position: 'status', order: 'desc'}) do %>
        <span class="glyphicon glyphicon-sort-by-attributes" aria-hidden="true" style="transform:rotate(180deg)"></span>
      <% end %>
      <%= link_to ({position: 'status', order: 'asc'}) do %>
        <span class="glyphicon glyphicon-sort-by-attributes" aria-hidden="true"></span>
      <% end %>
    </th>
    <th>
      <%= Task.human_attribute_name(:due) %>
      <%= link_to ({position: 'due', order: 'desc'}) do %>
        <span class="glyphicon glyphicon-sort-by-attributes" aria-hidden="true" style="transform:rotate(180deg)"></span>
      <% end %>
      <%= link_to ({position: 'due', order: 'asc'}) do %>
        <span class="glyphicon glyphicon-sort-by-attributes" aria-hidden="true"></span>
      <% end %>
    </th>
    <th>
      <%= Task.human_attribute_name(:created_at) %>
      <%= link_to ({position: 'created_at', order: 'desc'}) do %>
        <span class="glyphicon glyphicon-sort-by-attributes" aria-hidden="true" style="transform:rotate(180deg)"></span>
      <% end %>
      <%= link_to ({position: 'created_at', order: 'asc'}) do %>
        <span class="glyphicon glyphicon-sort-by-attributes" aria-hidden="true"></span>
      <% end %>
    </th>
    <th></th>
  </tr>
  </thead>
  <tbody>
<% @tasks.each do |task| %>
  <tr>
    <td><%= task.summary %></td>
    <td><%= t(".priority.#{task.priority}") %></td>
    <td><%= t(".status.#{task.status}") %></td>
    <td><%= task.due ? l(task.due, format: :default) : nil %></td>
    <td><%= l(task.created_at, format: :default) %></td>
    <td>
      <%= link_to t('action.detail'), task_path(task.id), class:"btn btn-primary" %>
      <%= link_to t('action.update'), edit_task_path(task), class:"btn btn-primary" %>
    </td>
  </tr>
<% end %>
  </tbody>
</table>

<%= link_to t('action.create'), new_task_path, class:"btn btn-primary" %>
