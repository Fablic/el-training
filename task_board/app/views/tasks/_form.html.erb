<%= javascript_pack_tag 'select' %>
<% @task.errors.full_messages.each do |msg| %>
  <div class='alert alert-danger'><%= msg %></div>
<% end %>

<%= form_with model: @task, local: true do |form| %>
  <div class='form-group'>
    <%= form.label(:name) %>
    <%= form.text_field :name, class: 'form-control' %>
  </div>
  <div class='form-group'>
    <%= form.label(:description) %>
    <%= form.text_area :description, class: 'form-control' %>
  </div>
  <div class='form-group'>
    <%= form.label(:end_date) %>
    <%= form.date_select :end_date, class: 'form-control' %>
  </div>
  <div class='form-row'>
    <div class='form-group col-md-6'>
      <%= form.label(:priority) %>
      <%= form.select :priority, Task.priorities_i18n.invert, {}, class: 'custom-select' %>
    </div>
    <div class='form-group col-md-6'>
      <%= form.label(:status) %>
      <%= form.select :status, Task.statuses_i18n.invert, {}, class: 'custom-select' %>
    </div>
  </div>
  <div class='form-group'>
    <%= form.label(:label) %>
    <%= form.select(:label_ids, current_user.labels.collect { |l| [ l.name, l.id] }, {}, class: 'form-control', :multiple => true) %>
  </div>
  <%= form.submit "#{type}", class: 'btn btn-primary' %>
<% end %>
