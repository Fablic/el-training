<% if task.errors.present? %>
  <div id="error_explanation" class="alert alert-danger">
    <ul>
      <% task.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<%= form_with model: task, local: true do |f| %>
  <div class="form-group">
    <%= f.label :title %>
    <%= f.text_field :title, class: 'form-control', id: 'task_title' %>
  </div>
  <div class="form-group">
    <%= f.label :description %>
    <%= f.text_area :description, rows: 5, class: 'form-control', id: 'task_description' %>
  </div>
  <div class="form-group">
    <%= f.label :priority %>
    <div class="col-md-2">
      <%= f.select :priority, Task.enum_options_for_select(:priority), {}, { class: 'form-control' } %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label :status %>
    <div class="col-md-2">
      <%= f.select :status, Task.enum_options_for_select(:status), {}, { class: 'form-control' } %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label :deadline %>
    <div><%= f.date_select :deadline, {}, { class: 'form-control bootstrap-date' } %></div>
  </div>
  <%= f.fields_for :task_labels do |tl| %>
    <div class="form-group">
      <%= tl.label :label_id, t('activerecord.models.label') %>
      <div class="col-md-5">
        <%= tl.collection_select :label_id, @labels, :id, :name, { include_blank: true }, { class: 'form-control' } %>
      </div>
    </div>
  <% end %>
  <%= f.submit nil, class: 'btn btn-primary' %>
<% end %>
