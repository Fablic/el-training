<%= render 'shared/search' %>

<div id="top" class="w-75 detail m-auto">
  <p id="notice"><%= notice %></p>

  <table class="table">
    <thead>
      <tr>
        <th id="title_head"><%= sort_order 'title', I18n.t('tasks.common.title') %></th>
        <th id="status_head"><%= sort_order 'status', I18n.t('tasks.common.status') %></th>
        <th id="priority_head"><%= sort_order 'priority', I18n.t('tasks.common.priority') %></th>
        <th id="end_date_head"><%= sort_order 'end_date', I18n.t('tasks.common.end_date') %></th>
        <th id="created_at_head"><%= sort_order 'created_at', I18n.t('tasks.common.created_at') %></th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @tasks.each_with_index do |task, i| %>
        <tr>
          <td id="title-<%= i %>"><%= task.title %></td>
          <td id="status-<%= i %>"><%= I18n.t("tasks.status.#{task.status}") %></td>
          <td id="priority-<%= i %>"><%= task.priority %></td>
          <td id="end_date-<%= i %>"><%= task.end_date %></td>
          <td id="created_at-<%= i %>"><%= task.created_at.strftime('%Y-%m-%d %H:%M:%S') %></td>
          <td><%= link_to I18n.t('tasks.common.show'), task %></td>
          <td><%= link_to I18n.t('tasks.common.edit'), edit_task_path(task) %></td>
          <td><%= link_to I18n.t('tasks.common.destroy'), task, method: :delete, data: { confirm: I18n.t('tasks.index.confirm') } %></td>
        </tr>
      <% end %>
      <%= paginate @tasks if @tasks.present? %>
    </tbody>
  </table>

  <br>

  <%= link_to I18n.t('tasks.index.new_submit'), new_task_path %>
</div>
