<div class="container">
  <%= render 'common/notice' %>

  <h1><%= t('.head_title') %></h1>
  <%= render 'search' %>

  <table id="task table" class="table table-hover">
    <thead>
      <tr>
        <th><%= Task.human_attribute_name(:title) %></th>
        <th><%= Task.human_attribute_name(:description) %></th>
        <th><%= Task.human_attribute_name(:status) %></th>
        <th><%= Task.human_attribute_name(:due_date) %></th>
        <th><%= t('labels') %></th>
        <th><%= Task.human_attribute_name(:created_at) %></th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @tasks.each do |task| %>
      <tr>
        <td><%= task.title %></td>
        <td><%= task.description %></td>
        <td><%= task.status %></td>
        <td><%= l(task.due_date, format: :short) if task.due_date %></td>
        <td><%= task.labels.pluck(:name).join(', ') %></td>
        <td><%= l(task.created_at, format: :short) %></td>
        <td><%= link_to t('show'), task %></td>
        <td><%= link_to t('edit'), edit_task_path(task) %></td>
        <td><%= link_to t('destroy'), task, method: :delete, data: { confirm: t('flash_message.delete_confirm') } %></td>
      </tr>
      <% end %>
    </tbody>
  </table>

  <hr>
  <%= paginate @tasks %>

  <br>

  <%= link_to t('tasks.new_task'), new_task_path %>
</div>
