<div class="container-fluid">
  <div class="row">
    <div class="col-sm">
      <h1>タスク一覧</h1>
    </div>
  </div>
  <div class="row">
    <div class="col-sm">
      <% if @task.present? %>
        <p>タスク数:<%= @task.count %>件</p>
      <% else %>
        <p>タスクはありません。</p>
      <% end %>
    </div>
    <div class="col-sm">
      <%= button_to 'タスク追加', { controller: 'tasks', action: 'new' }, { method: :get, class: 'btn btn-primary' } %>
    </div>
  </div>
  <% flash.each do |name, msg| %>
    <%= content_tag :div, msg, class: 'alert-' + name %>
  <% end %>
  <div class="row">
    <% if @task.present? %>
      <table class="table table-striped table-bordered">
        <thead class="thead-dark">
          <tr>
            <th>ID</th>
            <th>title</th>
            <th>detail</th>
            <th>actions</th>
          </tr>
        </thead>
        <tbody>
          <% @task.each do |t| %>
            <tr>
              <td><%= t.id %></td>
              <td><%= t.title %></td>
              <td><%= t.body %></td>
              <td>
                <%= link_to '詳細', task_path(t), method: :get, class: 'btn btn-info' %>
                <%= link_to '編集', edit_task_path(t), method: :get, class: 'btn btn-warning' %>
                <%= link_to '削除', task_path(t), method: :delete, class: 'btn btn-danger' %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    <% end %>
  </div>
</div>
