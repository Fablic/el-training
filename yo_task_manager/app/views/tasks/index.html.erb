<div class="container-fluid">
  <div class="row">
    <div class="col-sm">
      <h1><%= t :task_list %></h1>
    </div>
  </div>
  <div class="row">
    <div class="col-sm">
      <% if @tasks.present? %>
        <p>タスク数:<%= @tasks.count %>件</p>
      <% else %>
        <p>タスクはありません。</p>
      <% end %>
    </div>
    <div class="col-sm">
      <%= button_to 'タスク追加', new_task_path, method: :get, class: 'btn btn-primary' %>
    </div>
  </div>
  <% flash.each do |name, msg| %>
    <%= content_tag :div, msg, class: 'alert-' + name %>
  <% end %>
  <div class="row">
    <% if @tasks.present? %>
      <table class="table table-striped table-bordered">
        <thead class="thead-dark">
          <tr>
            <th>ID</th>
            <th>タスク名</th>
            <th>詳細</th>
            <th>操作</th>
          </tr>
        </thead>
        <tbody>
          <% @tasks.each do |t| %>
            <tr id="task-<%= t.id %>">
              <td><%= t.id %></td>
              <td><%= t.title %></td>
              <td><%= t.body %></td>
              <td>
                <%= button_to '詳細', task_path(t), method: :get, class: 'btn btn-info', form: { style: 'display: inline-block;' } %>
                <%= button_to '編集', edit_task_path(t), method: :get, class: 'btn btn-warning', form: { style: 'display: inline-block;' } %>
                <%= button_to '削除', task_path(t), method: :delete, class: 'btn btn-danger', form: { style: 'display: inline-block;' } %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    <% end %>
  </div>
</div>
