<div class="container-fluid">
  <div class="row justify-content-end mt-3">
    <div class="col-3 d-flex justify-content-end">
      <% if @users.present? %>
        <p><%= t('.user_count') %>: <%= @users.count %></p>
      <% end %>
    </div>
  </div>
  <div class="row">
    <div class="col-12">
      <% flash.each do |name, msg| %>
        <%= content_tag :div, msg.join('<br>').html_safe, class: "alert-#{name}" %>
      <% end %>
    </div>
  </div>
  <div class="row justify-content-end">
    <div class="col-4">
      <%= paginate @users %>
    </div>
  </div>
  <div class="row">
    <div class="col-12">
      <% if @users.present? %>
        <table class="table table-striped table-bordered">
          <thead class="thead-dark">
            <tr>
              <th><%= sort_link(@q, :id, 'ID') %></th>
              <th><%= sort_link(@q, :login_id, t('admin.users.login_id')) %></th>
              <th><%= sort_link(@q, :display_name, t('admin.users.display_name')) %></th>
              <th><%= sort_link(@q, :task_count, t('admin.users.task_count')) %></th>
              <th><%= t('action') %></th>
            </tr>
          </thead>
          <tbody>
            <% @users.each do |u| %>
              <tr id="user-<%= u.id %>">
                <td><%= u.id %></td>
                <td><%= u.login_id %></td>
                <td><%= u.display_name %></td>
                <td><%= u.tasks.size %></td>
                <td>
                  <%= button_to t('button.detail'), admin_user_path(u), method: :get, class: 'btn btn-info', form: { style: 'display: inline-block;' } %>
                  <%= button_to t('button.edit'), edit_admin_user_path(u), method: :get, class: 'btn btn-warning', form: { style: 'display: inline-block;' } %>
                  <%= button_to t('button.delete'), admin_user_path(u), method: :delete, class: 'btn btn-danger', form: { style: 'display: inline-block;' } %>
                </td>
              </tr>
            <% end %>
          </tbody>
        </table>
      <% end %>
    </div>
  </div>
  <div class="row justify-content-end">
    <div class="col-4">
      <%= paginate @users %>
    </div>
  </div>
</div>

