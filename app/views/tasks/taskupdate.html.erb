<div class="container">
  <div class="mt-3">
    <h1 class="text-center"><%= I18n.t('tasks.taskupdate.page_title') %></h1>
  </div>
  <div class="row mt-5">
    <div class="col-sm-8 mx-auto">
      <%= form_for(@task, url: tasks_taskupdate_process_path) do |f| %>
      <table class="table table-bordered">
        <tbody>
          <tr>
            <th scope="col" class="bg-secondary text-light align-middle">
              <%= f.label :status, class: "col-form-label" %>
            </th>
            <td>
              <%= f.select :status, Task.statuses.map {|k, v| [I18n.t("enums.task.status.#{k}"), v]}, :selected => @task.status_before_type_cast , class: "custom-select" %>
            </td>
          </tr>
          <tr>
            <th scope="col" class="bg-secondary text-light align-middle">
              <%= f.label :title, class: "col-form-label"%>
            </th>
            <td>
              <%= f.text_field :title, class: "col-sm-12 form-control" %>
            </td>
          </tr>
          <tr>
            <th scope="col" class="bg-secondary text-light align-middle">
              <%= f.label :detail, class: "col-form-label " %>
            </th>
            <td>
              <%= f.text_area :detail,rows: "10", class: "col-sm-12 form-control" %>
            </td>
          </tr>
          <tr>
            <th scope="col" class="bg-secondary text-light align-middle">
              <%= f.label :end_date, class: "col-form-label" %>
            </th>
            <td>
              <%= f.date_field :end_date, class: "col-sm-12 form-control" %>
            </td>
          </tr>
          <tr>
            <th scope="col" class="bg-secondary text-light align-middle">
              <%= f.label :tag_list, class: "col-form-label" %>
            </th>
            <td>
              <%= f.text_field :tag_list, value: @task.tag_list.join(','), data: {:role => "tagsinput"}, class: "col-sm form-control" %>
            </td>
          </tr>
        </tbody>
      </table>
      <div class="row mt-5">
        <div class="col-sm-6 text-left">
          <%= link_to("#{I18n.t('tasks.taskupdate.cancel_button')}", tasks_taskdetail_path(@task.id), class: "btn btn-outline-secondary") %>
        </div>
        <div class="col-sm-6 text-right">
          <%= f.hidden_field :id, :value => @task.id %>
          <%= f.submit class: "btn btn-warning" %>
        </div>
      </div>
      <% end %>
    </div>
  </div>
</div>
<%= javascript_pack_tag 'task/tagsinput' %>
