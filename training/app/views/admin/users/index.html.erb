<h1><%= t '.title' %></h1>

<%= link_to t('.new_user'), new_admin_user_path %>

<table class="table table-striped">
  <tr>
    <th><%= User.human_attribute_name(:name) %></th>
    <th><%= User.human_attribute_name(:email) %></th>
    <th><%= User.human_attribute_name(:is_admin) %></th>
    <th><%= User.human_attribute_name(:task_count) %></th>
    <th><%= User.human_attribute_name(:created_at) %></th>
    <th><%= Task.human_attribute_name(:updated_at) %></th>
    <th></th>
  </tr>
  <% @users.each do |user| %>
    <tr>
      <td><%= user.name %></td>
      <td><%= user.email %></td>
      <td><%= user.is_admin %></td>
      <td><%= user.tasks.size %></td>
      <td><%= l user.created_at, format: :long %></td>
      <td><%= l user.updated_at, format: :long %></td>
      <td>
      <%= link_to t('admin.users.link.tasks'), admin_user_tasks_path(user) %>
      <%= link_to t('admin.users.link.show'), admin_user_path(user) %>
      <%= link_to t('admin.users.link.edit'), edit_admin_user_path(user) %>
      <%= link_to t('admin.users.link.delete'), admin_user_path(user), method: :delete, data: { confirm: t('admin.users.confirm.delete') } %>
      </td>
    </tr>
  <% end %>
</table>

<%= paginate @users %>
