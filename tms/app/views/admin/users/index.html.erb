<div class="row">
  <div class="col-md-6">
    <h1><%= t('page.admin.user.title.list') %></h1>
  </div>
  <div class="col-md-6">
    <h1><%= link_to "<span class='glyphicon glyphicon-plus'></span> #{t('page.admin.user.link.new')}".html_safe, new_admin_user_path, class: 'btn btn-info' %></h1>
  </div>
</div>

<table class="table table-bordered table-striped table-hover table-condensed">
  <thead>
    <tr>
      <th><%= t('page.admin.user.thead.name') %></th>
      <th><%= t('page.admin.user.thead.role') %></th>
      <th><%= t('page.admin.user.thead.num_of_tasks') %></th>
      <th><%= t('page.admin.user.thead.created_at') %></th>
      <th><%= t('page.admin.user.thead.updated_at') %></th>
      <th colspan='3'></th>
    </tr>
  </thead>

  <% @users.each do |user| %>
    <tr>
      <td><%= user.name %></td>
      <td><%= role_name(user.admin) %></td>
      <td><%= user.tasks.count %></td>
      <td><%= user.created_at %></td>
      <td><%= user.updated_at %></td>
      <td><%= link_to "<span class='glyphicon glyphicon-zoom-in'></span> #{t('page.admin.user.link.detail')}".html_safe, admin_user_path(user), class: 'btn btn-success btn-xs'  %></td>
      <td><%= link_to "<span class='glyphicon glyphicon-pencil'></span> #{t('page.admin.user.link.edit')}".html_safe, edit_admin_user_path(user), class: 'btn btn-warning btn-xs' %></td>
      <% if @current_user.id == user.id %>
        <td><span class='glyphicon glyphicon-remove'></span></td>
      <% else %>
        <td><%= link_to "<span class='glyphicon glyphicon-trash'></span> #{t('page.admin.user.link.delete')}".html_safe, admin_user_path(user), method: :delete, data: { confirm: t('dialog') }, class: 'btn btn-danger btn-xs' %></td>
      <% end %>
    </tr>
  <% end %>
</table>
