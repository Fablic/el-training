<div class="container">
  <div class="jumbotron m-3">
    <h3 class="display-4">タスク一覧</h2>
    <hr class="my-4">
    <p>
      <% flash.each do |name, msg| %>
      <%= content_tag :div, msg, class: name  %>
      <% end %>
    </p>

    <%= link_to t('dictionary.button.create'), new_task_path, class: 'btn btn-primary float-left' %>
    <%= form_with url: root_path, method: :get, class: 'form-group form-inline float-right', local: true do |form| %>
      <%= form.label 'status検索' %>
      <%= form.select :task_status_id, status_select_options, {selected: params[:task_status_id] || ''}, {class: 'form-control'} %>
      <%= form.submit '検索', class: 'btn btn-primary' %>
    <% end %>

    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col"><%= t('dictionary.table.title') %></th>
          <th scope="col"><%= t('dictionary.table.description') %></th>
          <th scope="col">ステータス</th>
          <th scope="col"></th>
          <th scope="col"></th>
          <th scope="col"></th>
        </tr>
      </thead>
      <tbody>
        <% @task.each do |task| %>
          <tr>
            <th scope="row"><%= task.id %></th>
            <td><%= task.title %></td>
            <td><%= task.description %></td>
            <td><%= task.task_status.name %></td>
            <td><%= link_to t('dictionary.button.show'), task_path(task) %></td>
            <td><%= link_to t('dictionary.button.edit'), edit_task_path(task) %></td>
            <td><%= link_to t('dictionary.button.destroy'), task_path(task), {method: :delete, data:{ confirm: t('dictionary.message.destroy.confirm')}} %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
    <%= paginate @task %>
  </div>
</div>
