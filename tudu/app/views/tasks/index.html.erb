<h1><%= t('task.index.title') %></h1>
<table>
  <tr>
    <th><%= t('activerecord.attributes.task.name') %></th>
    <th><%= t('activerecord.attributes.task.content') %></th>
    <th>
      <%
          expire_date_order = params[:sort] == "expire_date" &&
            params[:order] == "asc" ? "desc" : "asc"
      %>
      <%= link_to t('activerecord.attributes.task.expire_date'),
        root_path(sort: 'expire_date', order: expire_date_order)
      %>
    </th>
    <th>
      <%= t('activerecord.attributes.task.created_at') %>
    </th>
    <th><%= t('action.table_heading_operation') %></th>
  </tr>
  <% @tasks.each do |task| %>
    <tr>
      <td><%= task.name %></td>
      <td><%= task.content %></td>
      <td><%= l(task.expire_date.to_date) if task.expire_date.present? %></td>
      <td><%= l(task.created_at.to_datetime) %></td>
      <td>
        <ul>
          <li><%= link_to t('action.show'), task_path(task) %></li>
          <li><%= link_to t('action.edit'), edit_task_path(task) %></li>
          <li><%= link_to t('action.delete'), task, method: :delete,
            data: { confirm: t('task.delete.confirm') } %></li>
        </ul>
      </td>
    </tr>
  <% end %>
</table>
