<h1><%= I18n.t('task.title.update') %></h1>
<div class="notifications">
  <% flash.each do |key, value| %>
    <%= content_tag(:div, value, :class => "flash #{key}") %>
  <% end %>
</div>
<% if @task.errors.any? %>
  <div id="error_explanation">
    <h2><%= pluralize(@task.errors.count, "error") %></h2>
    <ul>
    <% @task.errors.full_messages.each do |msg| %>
      <li><%= msg %></li>
    <% end %>
    </ul>
  </div>
<% end %>

<%= form_for @task, url: "update" do |form| %>
    <%= form.hidden_field :id, :value => @task.id %>
    <%= form.hidden_field :user_id, :value => @task.user_id %>
    <table border=1>
        <tr>
            <th width="150"><%= I18n.t('task.name') %></th>
            <td width="400"><%= form.text_field :name, size: "60", value:@task.name %></td>
        </tr>
        <tr>
            <th width="150"><%= I18n.t('task.description') %></th>
            <td width="400"><%= form.text_area :description, size: "60x10", value:@task.description %></td>
        </tr>
        <tr>
            <th width="150"><%= I18n.t('task.status') %></th>
            <td width="400"><%= form.select :status, ["Not Started", "Work In Progress", "Done"], selected: @task.status %></td>
        </tr>
        <tr>
            <th width="150"><%= I18n.t('task.label') %></th>
            <td width="400"><%= form.select :labels, ["A: 重要度高", "B: 重要度低", "C: 緊急度高", "D: 緊急度低"], selected: @task.labels %></td>
        </tr>
        <tr>
            <th width="150"><%= I18n.t('task.due_date') %></th>
            <td width="400"><%= form.date_field :due_date %></td>
        </tr>
    </tr>
    </table>
    <div align="left">
    <br>
    <%= form.submit I18n.t('task.button.update') %>
<% end %>

<div>
    <br>
    <%= link_to I18n.t('task.title.list'), './list' %>
</div>